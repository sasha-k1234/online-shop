<div class="container mt-3">
  <div class="row flex-lg-nowrap">
    <div class="col">
      <div class="row">
        <div class="col mb-3">
          <div class="card">
            <div class="card-body">
              <div class="e-profile">
                <div class="row">
                  <div class="col-12 col-sm-auto mb-3">
                    <div class="mx-auto" style="width: 140px;">
                      <div class="d-flex justify-content-center align-items-center rounded"
                        style="height: 140px; background-color: rgb(233, 236, 239);">
                        <img height="140"
                          [src]="profileModel.main_photo?profileModel.main_photo.url:'assets/user-placeholder.png'">
                      </div>
                    </div>
                  </div>
                  <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
                    <div class="text-center text-sm-left mb-2 mb-sm-0">
                      <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">{{profileModel.username}}</h4>
                      <p class="mb-0">{{profileModel.email}}</p>
                      <!-- <div class="text-muted"><small>Last seen 2 hours ago</small></div> -->
                      <div class="mt-2">
                        <button (click)="openPhotoUploadModal()" class="btn btn-primary" type="button">
                          <i class="bi bi-camera"></i>
                          <span>Change Photo</span>
                        </button>
                      </div>
                    </div>
                    <div class="text-center text-sm-right">
                      <span class="badge badge-secondary">administrator</span>
                      <!-- <div class="text-muted"><small>Joined 09 Dec 2017</small></div> -->
                    </div>
                  </div>
                </div>
                <!-- <ul class="nav nav-tabs">
                  <li class="nav-item"><a href="" class="active nav-link">Settings</a></li>
                </ul> -->
                <ul (activeIdChange)="tabChange($event)" ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
                  <li ngbNavItem="settings">
                    <button ngbNavLink>Settings</button>
                    <ng-template ngbNavContent>
                      <app-settings [profileModel]="profileModel"></app-settings>
                    </ng-template>
                  </li>
                  <li ngbNavItem="gallery">
                    <button ngbNavLink>Gallery</button>
                    <ng-template ngbNavContent>
                      <app-gallery [images]="profileModel.photos"
                        (changeMainPhoto)="changeAvatar($event)" (deletePhotoEvent)="deletePhotoChange($event)"></app-gallery>
                    </ng-template>
                  </li>
                  <li ngbNavItem="activity">
                    <button ngbNavLink>Activity</button>
                    <ng-template ngbNavContent>
                      <app-activity></app-activity>
                    </ng-template>
                  </li>
                </ul>

                <div [ngbNavOutlet]="nav" class="mt-2"></div>

              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-md-3 mb-3">
          <div class="card mb-3">
            <div class="card-body">
              <div class="px-xl-3">
                <button (click)="logout()" class="btn btn-block btn-secondary">
                  <i class="fa fa-sign-out"></i>
                  <span>Logout</span>
                </button>
              </div>
            </div>
          </div>
          <!-- <div class="card">
              <div class="card-body">
                <h6 class="card-title font-weight-bold">Support</h6>
                <p class="card-text">Get fast, free help from our friendly assistants.</p>
                <button type="button" class="btn btn-primary">Contact Us</button>
              </div>
            </div> -->
        </div>
      </div>

    </div>
  </div>
</div>